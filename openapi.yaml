openapi: 3.1.0
info:
  title: Startup Employee API
  version: 1.0.0
  description: |
    Simple sample API for a startup employee database.
    Backed by JSON files `employees.json` and `roles.json` in the repo root.

servers:
  - url: https://ai-fanatic.github.io/emp-startup-db-chatgpt-api  # placeholder

tags:
  - name: Employees
  - name: Roles

paths:
  /employees:
    get:
      tags: [Employees]
      summary: List employees
      description: Returns all employees in the startup.
      parameters:
        - in: query
          name: department
          schema:
            type: string
          description: Filter by department name.
        - in: query
          name: status
          schema:
            type: string
            enum: [active, inactive]
          description: Filter by employment status.
      responses:
        '200':
          description: A list of employees.
          content:
            application/json:
              schema:
                type: object
                properties:
                  employees:
                    type: array
                    items:
                      $ref: '#/components/schemas/Employee'
              examples:
                sample:
                  summary: Sample employee list
                  value:
                    employees:
                      - id: emp-001
                        firstName: Naveen
                        lastName: Chatlapalli
                        email: naveen.chatlapalli@aiconic.example
                        roleId: role-ceo
                        department: Executive
                        employmentType: full_time
                        startDate: '2023-01-15'
                        managerId: null
                        status: active
                        location: Irving, TX, USA
                        salaryBand: E7

  /employees/{id}:
    get:
      tags: [Employees]
      summary: Get employee by ID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Employee ID (e.g., emp-001).
      responses:
        '200':
          description: Employee record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee'
        '404':
          description: Employee not found

  /roles:
    get:
      tags: [Roles]
      summary: List roles
      description: Returns all roles in the startup.
      responses:
        '200':
          description: A list of roles.
          content:
            application/json:
              schema:
                type: object
                properties:
                  roles:
                    type: array
                    items:
                      $ref: '#/components/schemas/Role'
              examples:
                sample:
                  summary: Sample roles
                  value:
                    roles:
                      - id: role-ceo
                        name: Chief Executive Officer
                        level: executive
                        department: Executive
                        isPeopleManager: true

  /roles/{id}:
    get:
      tags: [Roles]
      summary: Get role by ID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Role ID (e.g., role-ceo).
      responses:
        '200':
          description: Role record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
        '404':
          description: Role not found

components:
  schemas:
    Employee:
      type: object
      required:
        - id
        - firstName
        - lastName
        - email
        - roleId
        - department
        - employmentType
        - startDate
        - status
      properties:
        id:
          type: string
          example: emp-001
        firstName:
          type: string
          example: Naveen
        lastName:
          type: string
          example: Chatlapalli
        email:
          type: string
          format: email
          example: naveen.chatlapalli@aiconic.example
        roleId:
          type: string
          description: Reference to Role.id.
          example: role-ceo
        department:
          type: string
          example: Engineering
        employmentType:
          type: string
          enum: [full_time, part_time, contractor, intern]
          example: full_time
        startDate:
          type: string
          format: date
          example: '2023-01-15'
        managerId:
          type: string
          nullable: true
          description: Reference to Employee.id of manager.
          example: emp-001
        status:
          type: string
          enum: [active, inactive]
          example: active
        location:
          type: string
          example: Irving, TX, USA
        salaryBand:
          type: string
          description: Company-specific salary band.
          example: E5

    Role:
      type: object
      required:
        - id
        - name
        - level
        - department
      properties:
        id:
          type: string
          example: role-founding-engineer
        name:
          type: string
          example: Founding Engineer
        level:
          type: string
          example: senior_individual_contributor
        department:
          type: string
          example: Engineering
        isPeopleManager:
          type: boolean
          example: false
        description:
          type: string
          example: >
            Early engineer owning large parts of the stack and setting engineering practices.
